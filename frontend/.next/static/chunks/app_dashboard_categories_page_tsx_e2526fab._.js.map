{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Murataa/Documents/Documents/Dev/Joki/e-commerce%20elektronik/frontend/app/dashboard/categories/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\ntype Category = {\r\n  _id: string;\r\n  name: string;\r\n};\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport default function CategoryDashboard() {\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [name, setName] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Fetch kategori\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await axios.get<Category[]>(`${API_URL}/categories`);\r\n      setCategories(res.data);\r\n    } catch (err) {\r\n      console.error('Gagal mengambil kategori:', err);\r\n      setError('Gagal memuat data. Silakan coba lagi nanti.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Tambah kategori\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!name.trim()) return;\r\n\r\n    try {\r\n      const res = await axios.post<Category>(`${API_URL}/categories`, { name });\r\n      setCategories((prev) => [...prev, res.data]);\r\n      setName('');\r\n    } catch (err) {\r\n      console.error('Gagal menambah kategori:', err);\r\n      alert('Gagal menyimpan kategori baru.');\r\n    }\r\n  };\r\n\r\n  // Hapus kategori\r\n  const deleteCategory = async (id: string) => {\r\n    if (window.confirm('Apakah Anda yakin ingin menghapus kategori ini?')) {\r\n      try {\r\n        await axios.delete(`${API_URL}/categories/${id}`);\r\n        setCategories((prev) => prev.filter((cat) => cat._id !== id));\r\n      } catch (err) {\r\n        console.error('Gagal menghapus kategori:', err);\r\n        alert('Gagal menghapus kategori.');\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <p className=\"p-6 text-center text-gray-500\">Memuat data...</p>;\r\n    if (error) return <p className=\"p-6 text-center text-red-500\">{error}</p>;\r\n    if (categories.length === 0)\r\n      return <p className=\"p-6 text-center text-gray-500\">Belum ada kategori yang ditambahkan.</p>;\r\n\r\n    return (\r\n      <ul className=\"divide-y divide-gray-200\">\r\n        {categories.map((cat) => (\r\n          <li\r\n            key={cat._id}\r\n            className=\"p-4 flex justify-between items-center hover:bg-gray-50 transition-colors duration-200\"\r\n          >\r\n            <span className=\"text-gray-800 font-medium\">{cat.name}</span>\r\n            <button\r\n              onClick={() => deleteCategory(cat._id)}\r\n              className=\"text-sm font-semibold text-red-600 hover:text-red-800 transition-colors duration-200\"\r\n            >\r\n              Hapus\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8\">\r\n      <div className=\"max-w-2xl mx-auto space-y-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 text-center\">Manajemen Kategori</h1>\r\n\r\n        {/* Form tambah kategori */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800\">Tambah Kategori Baru</h2>\r\n          <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row gap-3\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Contoh: Elektronik\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n              className=\"flex-1 w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm px-4 py-2\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-indigo-600 text-white px-5 py-2 rounded-md font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200\"\r\n            >\r\n              Tambah\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* List kategori */}\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <div className=\"p-4 border-b border-gray-200\">\r\n            <h2 className=\"text-xl font-semibold text-gray-800\">Daftar Kategori</h2>\r\n          </div>\r\n          {renderContent()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}