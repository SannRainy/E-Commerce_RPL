{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/POER/Desktop/e-commerce%20elektronik/e-commerce%20RPL/frontend/app/dashboard/user/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n\r\ntype User = {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'customer' | 'seller' | 'admin';\r\n};\r\n\r\nexport default function UserPage() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const res = await axios.get<User[]>(`${API_URL}/users`);\r\n      setUsers(res.data);\r\n    } catch (err) {\r\n      console.error('Gagal mengambil data user:', err);\r\n    }\r\n  };\r\n\r\n  const updateUserRole = async (userId: string, newRole: User['role']) => {\r\n    try {\r\n      await axios.put(`${API_URL}/users/${userId}/role`, { role: newRole });\r\n      setUsers((prevUsers) =>\r\n        prevUsers.map((user) =>\r\n          user._id === userId ? { ...user, role: newRole } : user\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error('Gagal mengubah role:', err);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (userId: string) => {\r\n    if (window.confirm('Apakah Anda yakin ingin menghapus pengguna ini?')) {\r\n      try {\r\n        await axios.delete(`${API_URL}/users/${userId}`);\r\n        setUsers((prevUsers) => prevUsers.filter((user) => user._id !== userId));\r\n      } catch (err) {\r\n        console.error('Gagal menghapus user:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-6\">Manajemen Pengguna</h1>\r\n        \r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full table-fixed\">\r\n              <thead className=\"bg-gray-100 border-b border-gray-200\">\r\n                <tr>\r\n                  <th className=\"p-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/4\">\r\n                    Nama\r\n                  </th>\r\n                  <th className=\"p-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/3\">\r\n                    Email\r\n                  </th>\r\n                  <th className=\"p-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/6\">\r\n                    Role\r\n                  </th>\r\n                  <th className=\"p-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/6\">\r\n                    Aksi\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200\">\r\n                {users.map((user) => (\r\n                  <tr key={user._id} className=\"hover:bg-gray-50 transition-colors duration-200\">\r\n                    <td className=\"p-4 whitespace-nowrap\">\r\n                      <div className=\"font-medium text-gray-900\">{user.name}</div>\r\n                    </td>\r\n                    <td className=\"p-4 whitespace-nowrap text-gray-600\">\r\n                      {user.email}\r\n                    </td>\r\n                    <td className=\"p-4 whitespace-nowrap\">\r\n                      <select\r\n                        value={user.role}\r\n                        onChange={(e) => updateUserRole(user._id, e.target.value as User['role'])}\r\n                        className=\"block w-full bg-gray-50 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition\"\r\n                      >\r\n                        <option value=\"customer\">Customer</option>\r\n                        <option value=\"seller\">Seller</option>\r\n                        <option value=\"admin\">Admin</option>\r\n                      </select>\r\n                    </td>\r\n                    <td className=\"p-4 whitespace-nowrap\">\r\n                      <button\r\n                        onClick={() => deleteUser(user._id)}\r\n                        className=\"bg-red-100 text-red-700 px-4 py-2 rounded-md font-semibold text-sm hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200\"\r\n                      >\r\n                        Hapus\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;AAKgB;;AAHhB;AACA;;;AAHA;;;AAKA,MAAM;AASS,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAE7C,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAS,GAAG,QAAQ,MAAM,CAAC;YACtD,SAAS,IAAI,IAAI;QACnB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,MAAM,iBAAiB,OAAO,QAAgB;QAC5C,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,OAAO,EAAE,OAAO,KAAK,CAAC,EAAE;gBAAE,MAAM;YAAQ;YACnE,SAAS,CAAC,YACR,UAAU,GAAG,CAAC,CAAC,OACb,KAAK,GAAG,KAAK,SAAS;wBAAE,GAAG,IAAI;wBAAE,MAAM;oBAAQ,IAAI;QAGzD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI,OAAO,OAAO,CAAC,oDAAoD;YACrE,IAAI;gBACF,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,GAAG,QAAQ,OAAO,EAAE,QAAQ;gBAC/C,SAAS,CAAC,YAAc,UAAU,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;YAClE,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;YACzC;QACF;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR;QACF;6BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAwC;;;;;;8BAEtD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;oCAAM,WAAU;8CACf,cAAA,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAmF;;;;;;0DAGjG,6LAAC;gDAAG,WAAU;0DAAmF;;;;;;0DAGjG,6LAAC;gDAAG,WAAU;0DAAmF;;;;;;0DAGjG,6LAAC;gDAAG,WAAU;0DAAmF;;;;;;;;;;;;;;;;;8CAKrG,6LAAC;oCAAM,WAAU;8CACd,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;4CAAkB,WAAU;;8DAC3B,6LAAC;oDAAG,WAAU;8DACZ,cAAA,6LAAC;wDAAI,WAAU;kEAA6B,KAAK,IAAI;;;;;;;;;;;8DAEvD,6LAAC;oDAAG,WAAU;8DACX,KAAK,KAAK;;;;;;8DAEb,6LAAC;oDAAG,WAAU;8DACZ,cAAA,6LAAC;wDACC,OAAO,KAAK,IAAI;wDAChB,UAAU,CAAC,IAAM,eAAe,KAAK,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;wDACxD,WAAU;;0EAEV,6LAAC;gEAAO,OAAM;0EAAW;;;;;;0EACzB,6LAAC;gEAAO,OAAM;0EAAS;;;;;;0EACvB,6LAAC;gEAAO,OAAM;0EAAQ;;;;;;;;;;;;;;;;;8DAG1B,6LAAC;oDAAG,WAAU;8DACZ,cAAA,6LAAC;wDACC,SAAS,IAAM,WAAW,KAAK,GAAG;wDAClC,WAAU;kEACX;;;;;;;;;;;;2CAtBI,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCnC;GArGwB;KAAA","debugId":null}}]
}